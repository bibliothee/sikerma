import"./base.9b54abd4.js";import{E as d}from"./index.6b81fd4e.js";import{u as _}from"./composables.0755acc2.js";import{a as w,ab as x,r as c,l as b,h as e,t as s,a6 as f,f as r,ac as h,u as n,a2 as g,v as u,p as v,U as k,o as y,Z as S}from"./entry.4d30f2c1.js";import{u as I}from"./objects.8a67f6d7.js";import"./size.007424cf.js";const $={class:"flex min-h-screen items-center justify-center bg-cover bg-center"},C={class:"panel m-6 w-full max-w-lg sm:w-[480px]"},E={class:"mb-3 text-2xl font-bold"},N={class:"mb-7"},T=["onSubmit"],U={for:"email"},V=["placeholder"],B={for:"password"},P=["placeholder"],R=["onClick","disabled"],j={viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor","stroke-width":"1.5",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",class:"inline-block h-5 w-5 animate-[spin_2s_linear_infinite] align-middle ltr:mr-2 rtl:ml-2"},D=k('<line x1="12" y1="2" x2="12" y2="6"></line><line x1="12" y1="18" x2="12" y2="22"></line><line x1="4.93" y1="4.93" x2="7.76" y2="7.76"></line><line x1="16.24" y1="16.24" x2="19.07" y2="19.07"></line><line x1="2" y1="12" x2="6" y2="12"></line><line x1="18" y1="12" x2="22" y2="12"></line><line x1="4.93" y1="19.07" x2="7.76" y2="16.24"></line><line x1="16.24" y1="7.76" x2="19.07" y2="4.93"></line>',8),M=[D],O=e("div",{class:"relative my-7 h-5 text-center before:absolute before:inset-0 before:m-auto before:h-[1px] before:w-full before:bg-[#ebedf2] dark:before:bg-[#253b5c]"},[e("div",{class:"relative z-[1] inline-block bg-white px-2 font-bold text-white-dark dark:bg-[#0e1726]"})],-1),H={class:"text-center"},W=e("br",null,null,-1),F=w({__name:"login",setup(z){_({title:"Sign In"}),x();const a=c(!1),i=c(),m=c(),p=async()=>{try{a.value=!0;const t=S(),{data:o,error:l}=await I("login",()=>$fetch(`${t.public.baseURL}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:i.value,password:m.value})}));if(o.value&&(localStorage.setItem("token",o.value.accessToken),localStorage.setItem("member_id",o.value.member.id),localStorage.setItem("member_name",o.value.member.name),localStorage.setItem("member_expire",o.value.member.expire),localStorage.setItem("member_type",o.value.member.type),localStorage.setItem("member_email",o.value.member.email),localStorage.setItem("member_image",o.value.member.image),window.location.href="/member/"),l.value)switch(l.value.statusCode){case 422:d.error("Wrong username!");break;case 401:d.error("Wrong password!");break;default:d.error("Oops... it seems something went wrong.");break}a.value=!1}catch(t){console.error(t),a.value=!1}};return(t,o)=>(y(),b("div",$,[e("div",C,[e("h2",E,s(t.$t("Sign In")),1),e("p",N,s(t.$t("Enter your username or email and password to login")),1),e("form",{class:"space-y-5",onSubmit:f(p,["prevent"]),method:"post"},[e("div",null,[e("label",U,s(t.$t("Username or Email")),1),r(e("input",{id:"email",type:"email","onUpdate:modelValue":o[0]||(o[0]=l=>g(i)?i.value=l:null),class:"form-input",placeholder:t.$t("Enter your username or email")},null,8,V),[[h,n(i)]])]),e("div",null,[e("label",B,s(t.$t("Password")),1),r(e("input",{id:"password",type:"password","onUpdate:modelValue":o[1]||(o[1]=l=>g(m)?m.value=l:null),class:"form-input",placeholder:t.$t("Enter your password")},null,8,P),[[h,n(m)]])]),e("button",{onClick:f(p,["prevent"]),disabled:n(a),type:"submit",class:"btn btn-primary w-full"},[r((y(),b("svg",j,M,512)),[[u,n(a)]]),r(e("span",null,s(t.$t("Please wait"))+"...",513),[[u,n(a)]]),r(e("span",null,s(t.$t("SIGN IN")),513),[[u,!n(a)]])],8,R)],40,T),O,e("p",H,[v(s(t.$t("Having trouble logging in?")),1),W,v(s(t.$t("Please contact the customer service for assistance.")),1)])])]))}});export{F as default};
